/*! angular-srcset - v0.0.1 - 2014-07-05
* https://github.com/shaneeb/angular-srcset
* Copyright (c) 2014 Shaneeb Kamran; Licensed MIT */
!function(){"use strict";function a(a){return a.sort().filter(function(b,c){return JSON.stringify(b)!==JSON.stringify(a[c-1])})}function b(a){return a.filter(function(b,c){return a.indexOf(b)===c})}var c={},d=/^\d+$/;c.parse=function(b){return a(b.split(",").map(function(a){var b={};return a.trim().split(/\s+/).forEach(function(a,c){if(0===c)return b.url=a;var e=a.substring(0,a.length-1),f=a[a.length-1],g=parseInt(e,10),h=parseFloat(e);if("w"===f&&d.test(e))b.width=g;else if("h"===f&&d.test(e))b.height=g;else{if("x"!==f||isNaN(h))throw new Error("Invalid srcset descriptor: "+a+".");b.density=h}}),b}))},c.stringify=function(a){return b(a.map(function(a){if(!a.url)throw new Error("URL is required.");var b=[a.url];return a.width&&b.push(a.width+"w"),a.height&&b.push(a.height+"h"),a.density&&b.push(a.density+"x"),b.join(" ")})).join(", ")},"undefined"!=typeof module&&module.exports?module.exports=c:window.srcset=c}(),function(a,b){"use strict";var c=a.module("angular-srcset",[]).config(["$provide",function(a){a.decorator("ngSrcsetDirective",["$delegate",function(a){return a[0].compile=function(){},a}])}]);c.directive("ngSrcset",["$window",function(a){function c(a,c){for(var d=b.parse(a),e=0;e<d.length;e++)if(d[e].density===c)return d[e].url}var d=parseInt((/msie (\d+)/.exec(a.navigator.userAgent.toLowerCase())||[])[1],10),e=function(){var b="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return a.devicePixelRatio>1?!0:a.matchMedia&&a.matchMedia(b).matches}();return function(a,b,f){function g(a){f.$set("src",a),d&&b.prop("src",a)}f.$observe("ngSrcset",function(a){if(a){var d;e&&"IMG"===b[0].tagName&&(d=c(a,2)),d||(d=c(a,1)),d&&g(d)}})}}])}(window.angular,window.srcset);